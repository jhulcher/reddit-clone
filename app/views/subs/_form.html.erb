<% action = (sub.persisted? ? sub_url(sub) : subs_url) %>
<% method = (sub.persisted? ? :patch : :post) %>
<% final_button = (sub.persisted? ? "Update" : "Submit") %>

<form action="<%= action %>" method="post">
  <input type="hidden" name="_method" value="<%= method %>">
  <%= authenticity %>

  <table>
    <tr>
      <td>
        <label for="sub_title">Sub Title</label>
      </td>
      <td>
        <input type="text"
          name="sub[title]"
          id="sub_title"
          value="<%= sub.title %>">
      </td>
    </tr>
    <tr>
      <td>
        <label for="sub_description">Description</label>
      </td>
      <td>
        <textarea
          name="sub[description]"
          id="sub_description"
          rows="5" cols="40"><%= sub.description %></textarea>
      </td>
    </tr>
  </table>

  <input type="submit" value="<%= final_button %>">
</form>
